{"ast":null,"code":"var _jsxFileName = \"/Users/trentino/Work/OFM/droplet/ofm_chatbot/frontend/src/components/MessageInput.jsx\",\n  _s = $RefreshSig$();\n// // /frontend/src/components/MessageInput.jsx\n\n// import React, { useState } from 'react';\n// import { Send, Paperclip } from 'lucide-react';\n\n// const MessageInput = ({ onSendMessage, isLoading, disabled }) => {\n//     const [input, setInput] = useState('');\n\n//     const handleSend = (e) => {\n//         e.preventDefault();\n//         if (input.trim() && !isLoading && !disabled) {\n//             onSendMessage(input);\n//             setInput('');\n//         }\n//     };\n\n//     return (\n//         <div className=\"absolute bottom-0 left-0 w-full bg-white dark:bg-gray-950 border-t border-gray-200 dark:border-gray-700\">\n//             <div className=\"max-w-4xl mx-auto p-4\">\n//                 <form onSubmit={handleSend} className=\"relative flex items-center\">\n//                     <textarea\n//                         value={input}\n//                         onChange={(e) => setInput(e.target.value)}\n//                         onKeyDown={(e) => {\n//                             if (e.key === 'Enter' && !e.shiftKey) {\n//                                 handleSend(e);\n//                             }\n//                         }}\n//                         placeholder={disabled ? \"Select a conversation to begin\" : \"Ask about sales, inventory, or forecasts...\"}\n//                         className=\"w-full pl-4 pr-20 py-3 bg-gray-100 dark:bg-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\"\n//                         rows=\"1\"\n//                         disabled={isLoading || disabled}\n//                     />\n//                     <button\n//                         type=\"submit\"\n//                         disabled={isLoading || disabled || !input.trim()}\n//                         className=\"absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-blue-600 text-white hover:bg-blue-700 disabled:bg-gray-400 disabled:dark:bg-gray-600 disabled:cursor-not-allowed transition-colors\"\n//                     >\n//                         <Send size={20} />\n//                     </button>\n//                 </form>\n//                  <p className=\"text-xs text-center text-gray-400 dark:text-gray-500 mt-2\">\n//                     InsightAI by OFM. For internal use only.\n//                 </p>\n//             </div>\n//         </div>\n//     );\n// };\n\n// export default MessageInput;\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Send } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageInput = ({\n  onSendMessage,\n  isLoading,\n  disabled\n}) => {\n  _s();\n  const [input, setInput] = useState('');\n  const textareaRef = useRef(null);\n\n  // Auto-resize the textarea height based on content\n  useEffect(() => {\n    const textarea = textareaRef.current;\n    if (textarea) {\n      textarea.style.height = 'auto';\n      const scrollHeight = textarea.scrollHeight;\n      // Set a max height (e.g., 200px)\n      textarea.style.height = `${Math.min(scrollHeight, 200)}px`;\n    }\n  }, [input]);\n  const handleSend = e => {\n    e.preventDefault();\n    if (input.trim() && !isLoading && !disabled) {\n      onSendMessage(input);\n      setInput('');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSend,\n      className: \"relative flex items-end gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        ref: textareaRef,\n        value: input,\n        onChange: e => setInput(e.target.value),\n        onKeyDown: e => {\n          // Send on Enter, new line on Shift+Enter\n          if (e.key === 'Enter' && !e.shiftKey) {\n            handleSend(e);\n          }\n        },\n        placeholder: disabled ? \"Select a conversation to begin\" : \"Ask about sales, inventory, or forecasts...\",\n        className: \"w-full pl-4 pr-12 py-3 bg-gray-100 dark:bg-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none overflow-y-auto\",\n        rows: \"1\",\n        disabled: isLoading || disabled\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isLoading || disabled || !input.trim(),\n        className: \"absolute right-3 bottom-2.5 p-2 rounded-full bg-blue-600 text-white hover:bg-blue-700 disabled:bg-gray-400 disabled:dark:bg-gray-600 disabled:cursor-not-allowed transition-colors flex-shrink-0\",\n        \"aria-label\": \"Send message\",\n        children: /*#__PURE__*/_jsxDEV(Send, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xs text-center text-gray-400 dark:text-gray-500 mt-2\",\n      children: \"InsightAI by OFM. For internal use only.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 14\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n};\n_s(MessageInput, \"B/g8Vs7Uar5ndx2sIQTM9dxbXoY=\");\n_c = MessageInput;\nexport default MessageInput;\nvar _c;\n$RefreshReg$(_c, \"MessageInput\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Send","jsxDEV","_jsxDEV","MessageInput","onSendMessage","isLoading","disabled","_s","input","setInput","textareaRef","textarea","current","style","height","scrollHeight","Math","min","handleSend","e","preventDefault","trim","className","children","onSubmit","ref","value","onChange","target","onKeyDown","key","shiftKey","placeholder","rows","fileName","_jsxFileName","lineNumber","columnNumber","type","size","_c","$RefreshReg$"],"sources":["/Users/trentino/Work/OFM/droplet/ofm_chatbot/frontend/src/components/MessageInput.jsx"],"sourcesContent":["// // /frontend/src/components/MessageInput.jsx\n\n// import React, { useState } from 'react';\n// import { Send, Paperclip } from 'lucide-react';\n\n// const MessageInput = ({ onSendMessage, isLoading, disabled }) => {\n//     const [input, setInput] = useState('');\n\n//     const handleSend = (e) => {\n//         e.preventDefault();\n//         if (input.trim() && !isLoading && !disabled) {\n//             onSendMessage(input);\n//             setInput('');\n//         }\n//     };\n\n//     return (\n//         <div className=\"absolute bottom-0 left-0 w-full bg-white dark:bg-gray-950 border-t border-gray-200 dark:border-gray-700\">\n//             <div className=\"max-w-4xl mx-auto p-4\">\n//                 <form onSubmit={handleSend} className=\"relative flex items-center\">\n//                     <textarea\n//                         value={input}\n//                         onChange={(e) => setInput(e.target.value)}\n//                         onKeyDown={(e) => {\n//                             if (e.key === 'Enter' && !e.shiftKey) {\n//                                 handleSend(e);\n//                             }\n//                         }}\n//                         placeholder={disabled ? \"Select a conversation to begin\" : \"Ask about sales, inventory, or forecasts...\"}\n//                         className=\"w-full pl-4 pr-20 py-3 bg-gray-100 dark:bg-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\"\n//                         rows=\"1\"\n//                         disabled={isLoading || disabled}\n//                     />\n//                     <button\n//                         type=\"submit\"\n//                         disabled={isLoading || disabled || !input.trim()}\n//                         className=\"absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-blue-600 text-white hover:bg-blue-700 disabled:bg-gray-400 disabled:dark:bg-gray-600 disabled:cursor-not-allowed transition-colors\"\n//                     >\n//                         <Send size={20} />\n//                     </button>\n//                 </form>\n//                  <p className=\"text-xs text-center text-gray-400 dark:text-gray-500 mt-2\">\n//                     InsightAI by OFM. For internal use only.\n//                 </p>\n//             </div>\n//         </div>\n//     );\n// };\n\n// export default MessageInput;\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Send } from 'lucide-react';\n\nconst MessageInput = ({ onSendMessage, isLoading, disabled }) => {\n    const [input, setInput] = useState('');\n    const textareaRef = useRef(null);\n\n    // Auto-resize the textarea height based on content\n    useEffect(() => {\n        const textarea = textareaRef.current;\n        if (textarea) {\n            textarea.style.height = 'auto';\n            const scrollHeight = textarea.scrollHeight;\n            // Set a max height (e.g., 200px)\n            textarea.style.height = `${Math.min(scrollHeight, 200)}px`;\n        }\n    }, [input]);\n\n    const handleSend = (e) => {\n        e.preventDefault();\n        if (input.trim() && !isLoading && !disabled) {\n            onSendMessage(input);\n            setInput('');\n        }\n    };\n\n    return (\n        <div className=\"max-w-4xl mx-auto\">\n            <form onSubmit={handleSend} className=\"relative flex items-end gap-2\">\n                <textarea\n                    ref={textareaRef}\n                    value={input}\n                    onChange={(e) => setInput(e.target.value)}\n                    onKeyDown={(e) => {\n                        // Send on Enter, new line on Shift+Enter\n                        if (e.key === 'Enter' && !e.shiftKey) {\n                            handleSend(e);\n                        }\n                    }}\n                    placeholder={disabled ? \"Select a conversation to begin\" : \"Ask about sales, inventory, or forecasts...\"}\n                    className=\"w-full pl-4 pr-12 py-3 bg-gray-100 dark:bg-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none overflow-y-auto\"\n                    rows=\"1\"\n                    disabled={isLoading || disabled}\n                />\n                <button\n                    type=\"submit\"\n                    disabled={isLoading || disabled || !input.trim()}\n                    className=\"absolute right-3 bottom-2.5 p-2 rounded-full bg-blue-600 text-white hover:bg-blue-700 disabled:bg-gray-400 disabled:dark:bg-gray-600 disabled:cursor-not-allowed transition-colors flex-shrink-0\"\n                    aria-label=\"Send message\"\n                >\n                    <Send size={20} />\n                </button>\n            </form>\n             <p className=\"text-xs text-center text-gray-400 dark:text-gray-500 mt-2\">\n                InsightAI by OFM. For internal use only.\n            </p>\n        </div>\n    );\n};\n\nexport default MessageInput;\n"],"mappings":";;AAAA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,SAASC,IAAI,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpC,MAAMC,YAAY,GAAGA,CAAC;EAAEC,aAAa;EAAEC,SAAS;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC7D,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMa,WAAW,GAAGZ,MAAM,CAAC,IAAI,CAAC;;EAEhC;EACAC,SAAS,CAAC,MAAM;IACZ,MAAMY,QAAQ,GAAGD,WAAW,CAACE,OAAO;IACpC,IAAID,QAAQ,EAAE;MACVA,QAAQ,CAACE,KAAK,CAACC,MAAM,GAAG,MAAM;MAC9B,MAAMC,YAAY,GAAGJ,QAAQ,CAACI,YAAY;MAC1C;MACAJ,QAAQ,CAACE,KAAK,CAACC,MAAM,GAAG,GAAGE,IAAI,CAACC,GAAG,CAACF,YAAY,EAAE,GAAG,CAAC,IAAI;IAC9D;EACJ,CAAC,EAAE,CAACP,KAAK,CAAC,CAAC;EAEX,MAAMU,UAAU,GAAIC,CAAC,IAAK;IACtBA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAIZ,KAAK,CAACa,IAAI,CAAC,CAAC,IAAI,CAAChB,SAAS,IAAI,CAACC,QAAQ,EAAE;MACzCF,aAAa,CAACI,KAAK,CAAC;MACpBC,QAAQ,CAAC,EAAE,CAAC;IAChB;EACJ,CAAC;EAED,oBACIP,OAAA;IAAKoB,SAAS,EAAC,mBAAmB;IAAAC,QAAA,gBAC9BrB,OAAA;MAAMsB,QAAQ,EAAEN,UAAW;MAACI,SAAS,EAAC,+BAA+B;MAAAC,QAAA,gBACjErB,OAAA;QACIuB,GAAG,EAAEf,WAAY;QACjBgB,KAAK,EAAElB,KAAM;QACbmB,QAAQ,EAAGR,CAAC,IAAKV,QAAQ,CAACU,CAAC,CAACS,MAAM,CAACF,KAAK,CAAE;QAC1CG,SAAS,EAAGV,CAAC,IAAK;UACd;UACA,IAAIA,CAAC,CAACW,GAAG,KAAK,OAAO,IAAI,CAACX,CAAC,CAACY,QAAQ,EAAE;YAClCb,UAAU,CAACC,CAAC,CAAC;UACjB;QACJ,CAAE;QACFa,WAAW,EAAE1B,QAAQ,GAAG,gCAAgC,GAAG,6CAA8C;QACzGgB,SAAS,EAAC,gJAAgJ;QAC1JW,IAAI,EAAC,GAAG;QACR3B,QAAQ,EAAED,SAAS,IAAIC;MAAS;QAAA4B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnC,CAAC,eACFnC,OAAA;QACIoC,IAAI,EAAC,QAAQ;QACbhC,QAAQ,EAAED,SAAS,IAAIC,QAAQ,IAAI,CAACE,KAAK,CAACa,IAAI,CAAC,CAAE;QACjDC,SAAS,EAAC,kMAAkM;QAC5M,cAAW,cAAc;QAAAC,QAAA,eAEzBrB,OAAA,CAACF,IAAI;UAACuC,IAAI,EAAE;QAAG;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACd,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC,eACNnC,OAAA;MAAGoB,SAAS,EAAC,2DAA2D;MAAAC,QAAA,EAAC;IAE1E;MAAAW,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEd,CAAC;AAAC9B,EAAA,CAvDIJ,YAAY;AAAAqC,EAAA,GAAZrC,YAAY;AAyDlB,eAAeA,YAAY;AAAC,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}